"use strict";angular.module("knobyApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("knobyApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("knobyApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("knobyApp").factory("d3",["$document","$q","$window",function(a,b,c){var d=b.defer();return a.ready(function(){d.resolve(c.d3)}),d.promise}]),angular.module("knobyApp").directive("simpleLineChart",["d3",function(a){return{restrict:"EA",scope:{},link:function(b,c){a.then(function(a){var d={top:20,right:20,bottom:30,left:50},e=600-d.left-d.right,f=700-d.top-d.bottom,g=a.time.format("%d-%b-%y").parse,h=a.time.scale().range([0,e]),i=a.scale.linear().range([f,0]),j=a.svg.axis().scale(h).orient("bottom"),k=a.svg.axis().scale(i).orient("left"),l=a.svg.line().x(function(a){return h(a.date)}).y(function(a){return i(a.close)}),m=a.select(c[0]).append("svg").attr("width",e+d.left+d.right).attr("height",f+d.top+d.bottom).append("g").attr("transform","translate("+d.left+","+d.top+")");b.data=[{date:"4-Apr-12",close:34},{date:"5-Apr-12",close:45},{date:"6-Apr-12",close:37},{date:"7-Apr-12",close:56},{date:"8-Apr-12",close:50},{date:"9-Apr-12",close:77}],b.data.forEach(function(a){a.date=g(a.date),a.close=+a.close}),h.domain(a.extent(b.data,function(a){return a.date})),i.domain(a.extent(b.data,function(a){return a.close})),m.append("g").attr("class","x axis").attr("transform","translate(0,"+f+")").call(j),m.append("g").attr("class","y axis").call(k).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text("Price ($)"),m.append("path").datum(b.data).attr("class","line").attr("d",l)})}}}]),angular.module("knobyApp").factory("three",["$document","$q","$window",function(a,b,c){var d=b.defer();return a.ready(function(){d.resolve(c.THREE)}),d.promise}]),angular.module("knobyApp").directive("simpleCubeScene",["three",function(a){return{template:"<div></div>",restrict:"EA",scope:{width:"&width",height:"&height"},link:function(b,c){var d={width:b.width()||1e3,height:b.height()||1e3};a.then(function(a){var b=new a.Scene,e=new a.PerspectiveCamera(35,d.width/d.height,.1,1e3),f=new a.WebGLRenderer({antialias:!0});f.setPixelRatio(window.devicePixelRatio),c.append(f.domElement);var g=new a.BoxGeometry(1,1,1),h=new a.MeshBasicMaterial({color:60928}),i=new a.Mesh(g,h);b.add(i),e.position.z=5;var j=function(){requestAnimationFrame(j),i.rotation.x+=.01,i.rotation.y+=.01,f.render(b,e)};j()})}}}]),angular.module("knobyApp").factory("raphael",["$document","$q","$window",function(a,b,c){var d=b.defer();return a.ready(function(){d.resolve(c.Raphael)}),d.promise}]),angular.module("knobyApp").directive("simpleKnob",["raphael",function(a){function b(a,b,c){this.view=c||a.circle(32,32,20).attr({fill:"rgb(0, 0, 0)","stroke-width":"3"}),this.view.data("glow",this.view.glow().hide()),this.view.hover(function(){this.data("glow").show()},function(){this.data("glow").hide()});var d,e,f;this.view.click(function(){f=this.clone().unclick().attr({r:this.attr("r")+10}).drag(function(a,b){this.attr({cx:Math.max(d+a,15),cy:Math.max(e+b,15)})},function(){d=this.attr("cx"),e=this.attr("cy")},function(){f.animate({ms:600,easing:"bounce",r:100,"stroke-width":20}),b(f)})})}return b.prototype={},{template:!1,restrict:"E",link:function(c,d){a.then(function(a){var c=angular.element(d).parent()[0],e=a(c,"100%","100%"),f=[],g=[];new b(e,function(a){f.push(a)},e.circle(32,32,20).attr({fill:"rgb(243, 231, 214)","stroke-width":"3"})),new b(e,function(a){g.push(a)},e.circle(c.offsetWidth/2,32,20).attr("fill","rgb(214, 223, 254)").attr("stroke-width","3")),new b(e,function(a){g.push(a)},e.circle(c.offsetWidth-62,32,20).attr("fill","rgb(255, 255, 255)").attr("stroke-width","3"))})}}}]);