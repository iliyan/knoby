"use strict";angular.module("knoby.hammer",[]).run(["hammer",angular.noop]).service("hammer",["$window",function(a){var b=a.Hammer;return delete a.Hammer,b}]),angular.module("knoby.lodash",[]).run(["lodash",angular.noop]).service("lodash",["$window",function(a){var b=a._;return delete a._,b}]),angular.module("knobyApp",["knoby.hammer","knoby.lodash","ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("knobyApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("knobyApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("knobyApp").factory("raphael",["$document","$q","$window",function(a,b,c){var d=b.defer();return a.ready(function(){d.resolve(c.Raphael)}),d.promise}]),angular.module("knobyApp").factory("knobs",["hammer",function(a){function b(a,b,c){var d=this;this.destroy=function(){a.undrag()},this.onMove=function(a,b){this.transform(d.t+"T"+a+","+b)},this.onStart=function(){return d.t=this.transform(),angular.isFunction(b)?b.call(this):void 0},a.drag(this.onMove,this.onStart,function(){d.t=this.transform(),c.call(this)})}function c(a,b){b.hide(),a.hover(function(){b.show()},function(){b.hide()}),this.destroy=function(){a.unhover(),b.remove()}}function d(a){this.clazz=[this.clazz,a].join(" ")}function e(a){this.attach(a)}function f(a){this.attach(a)}function g(a){this.attach(a)}return b.prototype={},b.prototype.constructor=b,c.prototype={},c.prototype.constructor=c,d.prototype={clazz:"kby-knob"},d.prototype.constructor=d,d.prototype.toggler=function(a,b){var c=this;return c.view.node.classList[b?"add":"remove"](a),function(){c.view.node.classList.toggle(a)}},d.prototype.attach=function(c){if(!c)throw new ReferenceError;var d=this;d.view=c,angular.element(d.view.node).attr("class",d.clazz),d.hammertime=new a(d.view.node),d.view.undblclick(),d.view.unclick(),d.hammertime.on("doubletap",d.toggler("adjustable",!1)),d.onDragEnd=function(){this.node.classList.remove("mobile")},d.onDragStart=function(){this.node.classList.add("mobile")},d.dragster=new b(d.view,d.onDragStart,d.onDragEnd);var e=0,f=0;d.view.node.addEventListener("wheel",function(a){var b=Math.sign(a.deltaY);e+=b*f,this.style["stroke-dashoffset"]=e%100+"%",f=b,a.preventDefault()})},e.prototype=new d("kby-condition"),e.prototype.constructor=e,f.prototype=new d("kby-command"),f.prototype.constructor=f,g.prototype=new d("kby-destination"),g.prototype.constructor=g,{DragController:b,HoverController:c,ConditionController:e,CommandController:f,DestinationController:g}}]).factory("factories",["knobs",function(a){function b(a){this.clazz=["kby-factory",a].join(" ")}function c(a,b){this.attach(a,b)}function d(a,b){this.attach(a,b)}function e(a,b){this.attach(a,b)}return b.prototype={},b.prototype.constructor=b,b.prototype.generate=function(a,b,c){var d=new a(b);return angular.isFunction(c)?c.call(d):d},b.prototype.attach=function(b,c){if(!b)throw new ReferenceError;this.view=b,angular.element(b.node).attr("class",this.clazz),this.glow=b.glow(),this.hoverer=new a.HoverController(this.view,this.glow);var d=this;this.onDragEnd=function(){return d.dragster.destroy(),d.hoverer.destroy(),d.generate(d.producer,this,c)},this.onDragStart=function(){var a=d.generate(d.constructor,this.clone());return angular.element(this.node).attr("class",""),a},this.dragster=new a.DragController(this.view,d.onDragStart,d.onDragEnd)},c.prototype=new b("kby-condition"),c.prototype.constructor=c,c.prototype.producer=a.ConditionController,d.prototype=new b("kby-command"),d.prototype.constructor=d,d.prototype.producer=a.CommandController,e.prototype=new b("kby-destination"),e.prototype.constructor=e,e.prototype.producer=a.DestinationController,{ConditionsFactoryController:c,CommandsFactoryController:d,DestinationsFactoryController:e}}]),angular.module("knobyApp").directive("simpleKnob",["raphael","factories",function(a,b){return{template:!1,restrict:"E",link:function(c,d){a.then(function(a){var c=angular.element(d).parent()[0],e=a(c,"100%","100%"),f=[],g=[],h=new b.ConditionsFactoryController(e.circle(32,32,20),function(a){f.push(a)}),i=new b.CommandsFactoryController(e.circle(c.offsetWidth/2,32,20),function(a){g.push(a)}),j=new b.DestinationsFactoryController(e.circle(c.offsetWidth-62,32,20),function(a){g.push(a)});[].push(h,i,j)})}}}]);