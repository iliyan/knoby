"use strict";angular.module("knobyApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("knobyApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("knobyApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("knobyApp").factory("d3",["$document","$q","$window",function(a,b,c){var d=b.defer();return a.ready(function(){d.resolve(c.d3)}),d.promise}]),angular.module("knobyApp").directive("simpleLineChart",["d3",function(a){return{restrict:"EA",scope:{},link:function(b,c){a.then(function(a){var d={top:20,right:20,bottom:30,left:50},e=600-d.left-d.right,f=700-d.top-d.bottom,g=a.time.format("%d-%b-%y").parse,h=a.time.scale().range([0,e]),i=a.scale.linear().range([f,0]),j=a.svg.axis().scale(h).orient("bottom"),k=a.svg.axis().scale(i).orient("left"),l=a.svg.line().x(function(a){return h(a.date)}).y(function(a){return i(a.close)}),m=a.select(c[0]).append("svg").attr("width",e+d.left+d.right).attr("height",f+d.top+d.bottom).append("g").attr("transform","translate("+d.left+","+d.top+")");b.data=[{date:"4-Apr-12",close:34},{date:"5-Apr-12",close:45},{date:"6-Apr-12",close:37},{date:"7-Apr-12",close:56},{date:"8-Apr-12",close:50},{date:"9-Apr-12",close:77}],b.data.forEach(function(a){a.date=g(a.date),a.close=+a.close}),h.domain(a.extent(b.data,function(a){return a.date})),i.domain(a.extent(b.data,function(a){return a.close})),m.append("g").attr("class","x axis").attr("transform","translate(0,"+f+")").call(j),m.append("g").attr("class","y axis").call(k).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text("Price ($)"),m.append("path").datum(b.data).attr("class","line").attr("d",l)})}}}]),angular.module("knobyApp").factory("three",["$document","$q","$window",function(a,b,c){var d=b.defer();return a.ready(function(){d.resolve(c.THREE)}),d.promise}]),angular.module("knobyApp").directive("simpleCubeScene",["three",function(a){return{template:"<div></div>",restrict:"EA",scope:{width:"&width",height:"&height"},link:function(b,c){var d={width:b.width()||1e3,height:b.height()||1e3};a.then(function(a){var b=new a.Scene,e=new a.PerspectiveCamera(35,d.width/d.height,.1,1e3),f=new a.WebGLRenderer({antialias:!0});f.setPixelRatio(window.devicePixelRatio),c.append(f.domElement);var g=new a.BoxGeometry(1,1,1),h=new a.MeshBasicMaterial({color:60928}),i=new a.Mesh(g,h);b.add(i),e.position.z=5;var j=function(){requestAnimationFrame(j),i.rotation.x+=.01,i.rotation.y+=.01,f.render(b,e)};j()})}}}]),angular.module("knobyApp").factory("raphael",["$document","$q","$window",function(a,b,c){var d=b.defer();return a.ready(function(){d.resolve(c.Raphael)}),d.promise}]),angular.module("knobyApp").directive("simpleKnob",["raphael",function(a){return{template:!1,restrict:"E",link:function(b,c){a.then(function(a){var b=angular.element(c).parent()[0],d=a(b,"100%","100%"),e=d.set(),f=d.circle(32,32,20).attr("fill","rgb(243, 231, 214)"),g=d.circle(b.offsetWidth/2,32,20).attr("fill","rgb(214, 223, 254)"),h=d.circle(b.offsetWidth-62,32,20).attr("fill","rgb(255, 255, 255)");e.push(f,g,h),e.attr("stroke-width","3");var i=f.glow().hide();f.hover(function(){i.show()},function(){i.hide()});var j,k,l,m=[];f.click(function(){j=d.circle().attr({fill:"rgb(243, 231, 214)",cx:this.attr("cx"),cy:this.attr("cy"),r:100}),j.drag(function(a,b){this.attr({cx:Math.max(k+a,15),cy:Math.max(l+b,15)})},function(){k=this.attr("cx"),l=this.attr("cy")},function(){m.push(this)})});var n=d.circle(320,200,100);n.attr("stroke","#f00"),n.attr("stroke-width","20"),n.attr("stroke-dasharray",["","-"]),n.dblclick(function(){o.draw=Array.isArray(o.draw)&&o.draw.indexOf("bbox")>=0?[null,null]:[null,"bbox"],o.drag=Array.isArray(o.drag)&&o.drag.indexOf("self")>=0?[null,null]:[null,"self"],o.rotate=Array.isArray(o.rotate)&&o.rotate.indexOf("self")>=0?[null,null,null]:[null,null,"self"],d.freeTransform(n).setOpts(o,function(){})});var o={drag:[null,"self"],rotate:[null,null,null],scale:[null,null,null,null]};d.freeTransform(n).setOpts(o,function(){})})}}}]);